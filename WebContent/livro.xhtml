<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<ui:composition template="/_template.xhtml">
<ui:define name="corpo">
  <h:form>
    <h:messages styleClass="erros"/>
    <h2>
      <h:outputText value="Novo Livro" rendered="#{empty livroBean.livro.id}"/>
      <h:outputText value="Editar Livro" rendered="#{not empty livroBean.livro.id}"/>
    </h2>
    <fieldset>
      <legend>Dados do Livro</legend>

      <h:outputLabel value="Título" for="titulo"  />
      <h:inputText value="#{livroBean.livro.titulo}" id="titulo" required="true" />
      
      <h:outputLabel value="Descrição" for="descricao"  />
      <h:inputText value="#{livroBean.livro.descricao}" id="descricao" required="true" />
      
     <!--  <h:outputLabel value="Descrição" for="descricao"  />
      <h:inputText value="#{livroBean.livro.descricao}" id="descricao" required="true" /> -->
      
      <h:outputLabel value="Preço Digital" for="precoDigital"  />
      <h:inputText value="#{livroBean.livro.precoDigital}" id="precoDigital" required="true">
        <f:validateDoubleRange minimum="0.01"/>  
        <f:passThroughAttribute name="type" value="number" />
      </h:inputText>
      
      <h:outputLabel value="Preço Impresso" for="precoImpresso"  />
      <h:inputText value="#{livroBean.livro.precoImpresso}" id="precoImpresso" required="true">
        <f:validateDoubleRange minimum="0.01"/>  
        <f:passThroughAttribute name="type" value="number" />
      </h:inputText>
      
      <h:outputLabel value="Preço Combo" for="precoCombo"  />
      <h:inputText value="#{livroBean.livro.precoCombo}" id="precoCombo" required="true">
        <f:validateDoubleRange minimum="0.01"/>  
        <f:passThroughAttribute name="type" value="number" />
      </h:inputText>
      
      <f:ajax execute="@form" render="@all">
        <h:commandButton value="Gravar" action="#{livroBean.gravar()}" rendered="#{empty livroBean.livro.id}"/>
        <h:commandButton value="Atualizar" action="#{livroBean.gravar()}" rendered="#{not empty livroBean.livro.id}"/>
      </f:ajax>
    </fieldset>
  </h:form>
</ui:define>
</ui:composition>
</html>